% A pure minimalistic LaTeX-Beamer theme for everyone to use.
% Copyright (C) 2020 Kai Norman Clasen

% This program is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.

% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.

% You should have received a copy of the GNU General Public License
% along with this program.  If not, see <https://www.gnu.org/licenses/>.

% This file is part of beamertheme-kimim.

% If problems/bugs are found or enhancements are desired, please contact
% me over: https://github.com/kimim/beamertheme-kimim

\ProvidesPackage{beamerfontthemekimim}[v2.0.0]
\RequirePackage{fontspec}

% Adds micro-typographical enhancements
% Has no significant impact on presentation slides
% Adds issues to japanese packages...
% \RequirePackage{microtype}
\mode<presentation>

\newboolean{customfont}
\setboolean{customfont}{false}
\newboolean{noto}
\setboolean{noto}{false}

\DeclareOptionBeamer{customfont}{\setboolean{customfont}{true}}
\DeclareOptionBeamer{noto}{\setboolean{noto}{true}}
\ProcessOptionsBeamer

\RequirePackage{silence}
% I have no clue how I can fix this warning
\WarningFilter{latex}{Font shape declaration has incorrect series value}
\RequirePackage{iftex}

\ifpdftex
  \RequirePackage[T1]{fontenc}
\fi

%% \ifthenelse{\boolean{noto}}{%
%%     % If Noto overwrites the fira fonts settings
%%   \RequirePackage{Roboto}
%% }{%
%%     \ifthenelse{\boolean{customfont}}{%
%%       % Load default fonts
%%     }{%
%%         % By default load Fira
%%       \RequirePackage[sfdefault]{FiraSans}
%%         \RequirePackage{FiraMono}
%%     }
%% }

\RequirePackage[sfdefault]{roboto}
\RequirePackage{roboto}

%%\setmainfont{}
%%\setsansfont{}
%%\setmonofont{Consolas}

\renewcommand\tiny{\fontsize{2pt}{4pt}\selectfont}
\renewcommand\footnotesize{\fontsize{4pt}{6pt}\selectfont}
\renewcommand\small{\fontsize{7pt}{10pt}\selectfont}
\renewcommand\normalsize{\fontsize{7.5pt}{11pt}\selectfont}
\renewcommand\large{\fontsize{10pt}{13pt}\selectfont}
\renewcommand\Large{\fontsize{12pt}{15pt}\selectfont}
\renewcommand\LARGE{\fontsize{14pt}{17pt}\selectfont}
\renewcommand\huge{\fontsize{20pt}{23pt}\selectfont}
\renewcommand\Huge{\fontsize{24pt}{27pt}\selectfont}

\setbeamerfont{normal text}{size=\normalsize}

\setbeamerfont{all titles}{family=\sffamily, series=\mdseries}
\setbeamerfont{presentation title}{parent=all titles, size=\LARGE, series=\bfseries}
\setbeamerfont{subtitle}{parent=all titles, shape=\upshape, size=\large}
\setbeamerfont{frametitle}{parent=all titles, size=\Large, series=\bfseries}
\setbeamerfont{framesubtitle}{parent=all titles, size=\normalsize}

\setbeamerfont{structure}{parent=normal text}
\setbeamerfont{footline}{series=\mdseries, size=\footnotesize}
\setbeamerfont{title in head/foot}{parent=footline, series=\bfseries}
\setbeamerfont{author in head/foot}{parent=footline}

\setbeamerfont{section in toc}{parent=normal text}
\setbeamerfont{subsection in toc}{parent=section in toc}
\setbeamerfont{subsubsection in toc}{parent=subsection in toc}

\setbeamerfont{block title}{size=\normalsize, series=\bfseries}
\setbeamerfont{block body}{size=\small}
\setbeamerfont{block title alerted}{parent=block title, size=\normalsize}
\setbeamerfont{block body alerted}{size=\small}
\setbeamerfont{block title example}{parent=block title, size=\normalsize}
\setbeamerfont{block body example}{size=\small}
\setbeamerfont{theorem title}{parent=block title, size=\normalsize}
\setbeamerfont{theorem body}{size=\small}
\setbeamerfont{example title}{parent=block title, size=\normalsize}
\setbeamerfont{example body}{size=\small}
\setbeamerfont{proof title}{parent=block title, size=\normalsize}
\setbeamerfont{proof body}{size=\small}

\setbeamerfont{title}{size=\LARGE, series=\bfseries}
\setbeamerfont{author}{series=\mdseries, size=\small}
\setbeamerfont{institute}{series=\mdseries, size=\small}
\setbeamerfont{date}{series=\mdseries, size=\small}

\setbeamerfont{caption}{size=\small}
\setbeamerfont{caption name}{size=\small}

\setbeamerfont{enumerate item}{size=\small}
\setbeamerfont{itemize/enumerate body}{size=\small}
\setbeamerfont{itemize/enumerate body alerted}{size=\small}
\setbeamerfont{itemize/enumerate subbody}{size=\small}
\setbeamerfont{itemize/enumerate subsubbody}{size=\small}

\AtBeginEnvironment{columns}{%
  \setbeamerfont{normal text}{size=\small}
}

\mode<all>
